# BL-005c â€” Add backend report healer endpoint (LLM repair) with strict input/output contracts

- Type: **task**
- Milestone: `M2-W1`
- Repo alignment: **missing**
- Labels: `backend`, `llm`
- Depends on: `BL-005a`

## Problem

Client-side healer needs a backend that can repair malformed GML safely and deterministically (bounded retries).

## Proposed solution

Add `POST /api/v1/report/heal`:
- Input: `{ draft: string, error: {type, message}, allowed_tags: [...] }`
- Output: `{ healed_draft: string, changes: [...], warnings: [...] }`
- Use an LLM prompt that only outputs corrected markup; validate output length and allowed tags.

## Repo touchpoints

- `src/intelli/api/v1/report.py (new)`
- `src/intelli/services/llm/* (new healer helper)`

## Acceptance criteria

- Endpoint returns healed markup that validates against GML tag spec.
- Healer is bounded (max retries, max output size) and does not leak secrets.

## Test plan

- Integration tests with invalid fixtures.
