# BL-005 â€” Build ReportPanel: GML renderer + incremental healing + citation slots

- Type: **story**
- Milestone: `M2-W1`
- Repo alignment: **missing**
- Labels: `frontend`, `report`, `wave:1`
- Depends on: `EPIC-W1`, `BL-004`

## Problem

Spec expects a ReportPanel that renders a structured report markup language (GML tags), updates incrementally via stream deltas, and heals malformed markup.

## Proposed solution

Implement `ReportPanel` in UI with:
- A lightweight GML parser (XML-like tags: `<gml-chart>`, `<gml-table>` etc) that supports partial/incomplete streams.
- A renderer that maps tags to GenUI components (BL-004) and standard markdown blocks.
- A healer flow: when parse/validation fails, call backend `POST /api/v1/report/heal` (new) to repair markup; re-render.
- Citation slots: tags can reference `citation_ids`; renderer shows clickable citations and can open SourcesPanel.

## Repo touchpoints

- `ui/src/components/report/* (new)`
- `src/intelli/api/v1/* (new report healer endpoint)`

## Spec / reference pointers

- reference/archive/plans/BACKLOG.md (BL-005)

## Acceptance criteria

- ReportPanel can render a full report including at least: headings, paragraphs, tables, charts placeholders, callouts.
- ReportPanel remains usable under streaming partial markup (no hard crashes).
- Healer flow repairs common malformed tags and clearly indicates when healing occurred.

## Test plan

- Unit: parser handles partial tags; renderer handles unknown tags safely.
- Integration: healer endpoint repairs a set of malformed samples.
